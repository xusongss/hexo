---
title: 视频水印
date: 2016-01-06 11:07:04
tags:
---
# 视频水印
早期的数字水印研究主要面向静态的数字图像对象。如今，作为互联网信息环境下的主要多媒体对象——视频数据越来越多地被考虑以数字水印技术手段来实现保护。

视频水印可以理解为以视频为载体对象，加入可识别的数字信号或模式，且不影响视频数据的视觉质量，又能达到用于视频数据对象的版权和内容保护等目的技术手段。

视频水印发展的两个主要源动力来自视频的版权保护问题和内容真实性和完整性保护问题。

就目前所提出的应用情况来看，可包括以下范围：
1. 版权保护（copyright protection）
1. 视频指纹（fingerprinting）
1. 拷贝保护（copy protection）
1. 广播监测（broadcast monitoring）
1. 数据认证（data authentication）
1. 标题和注释（indexing）
1. 安全的隐秘通信（covert communication）

视频广播数字水印版权保护与追踪方案
![1](/img/video/1.png)
视频指纹原理
![2](/img/video/2.png)
视频点播系统中具有加指纹功能的机顶盒方案
![3](/img/video/3.png)
数字视频录制设备的拷贝保护方案
![4](/img/video/4.png)
<!--more-->
## 数字视频特点
- 视频水印是数字水印技术中的热点和难点。由于视频信息的复杂性，且在存储和传输过程中往往以压缩的形式出现，所以视频水印算法的设计也要考虑到视频信息的这些特点。

- 视频信息可分为原始视频数据和压缩视频数据两大类。一般可以这样认为，原始视频相当于时间轴上的连续图像序列；压缩后的视频数据则是以特定的压缩标准而存在的比特数据流。
![5](/img/video/5.png)

为更好地研究视频水印算法，必须首先了解视频信息的特点。这里主要介绍视频信息的编码标准和视频时空掩蔽效应。
### 视频信息的编码标准
- 数字视频信号，是指由运动信息连接在一起的数字图像。由于原始数字视频信号数据量较大，在传输和存储遇到困难，所以视频压缩技术一直是多媒体技术工作者的研究对象。

- 压缩技术种类繁多，目前国际标准化组织的MPEG工作组和ITU-T分别对视频压缩技术进行了标准化，从而诞生了MPEG视频编码标准系列以及H.261和H.263等系列标准。由于基本原理一致，本文主要以MPEG编码标准为研究对象。

- MPEG是活动图像专家组(Moving Picture Exports Group)的缩写，成立于1988年。目前MPEG已颁布了多个活动图像及其伴音编码的正式国际标准，MPEG-1和MPEG-2是其中的两个。
- MPEG视频编码系统原理及关键技术概括地说，就是利用了图像中的两种特性：空间相关性和时间相关性。
![6](/img/video/6.png)
- MPEG-1和2都采用了基于离散余弦变换/运动补偿(DCT/MC)的混合编码方案。这种编码方案使用到了三项基本技术。
  1. 第一项是运动补偿，这是因为视频中的动态图像的每一帧和它的前帧都很多相似之处，可以近似地从前一帧来构造。
  2. 第二项技术是变换编码，它基于以下两个事实：一是人眼对高频可视信息不敏感；二是变换编码能够把图像的能量相对集中，从而可以用较少的数据位来表示图像。DCT的压缩技术可以减少空间域的冗余度，它不仅用于帧内压缩，也用于帧间残差数据的压缩；
  3. 第三项技术是熵编码，在运动补偿和变换编码后，对得到的数据进行哈夫曼编码。
- 视频数据中，动态图像的每一帧有三种基本编码类型：
  1. I帧或称为帧内编码帧，这种图像不参考任何其他图像进行编码；
  ![7](/img/video/7.png)
  2. P帧或称为前向预测编码帧，这种图像用到了前面的I或P帧的运动补偿；
  3. B帧或称为双向预测编码帧，这种图像编码时用到了来自前面和后面的工或P帧的运动补偿。

- 图像内的编码单元是宏块，在每个图像内，宏块按顺序编码，从左到右且从上到下。每个宏块由6个8x8大小的块组成：4个亮度块，一个Cr色度块和一个Cb色度块。编码的过程如下：
  1. 第一步，为给定的宏块选择编码方式，这依赖于图像类型、局部区域中运动补偿的有效性和块中的信号特性。
  2. 第二步，根据编码方式的不同，使用过去的参考图像或将来参考图像来估计运算运动补偿预测值，从当前宏块中的实际数据中减去这个预测值得到帧间预测误差信号。
  3. 第三步，把误差信号分成8x8块，并对每个块完成离散余弦选变换(DCT)，对经过DCT变换后的DCT系数进行量化，对两维块按“之”形顺序进行扫描，以形成一维量化系数串。
  4. 第四步，对每个宏块的附加信息和量化系数进行编码。最后对量化系数数据进行变长编码。最后得到的MPEG视频流分层语法表示如图
  ![8](/img/video/8.png)
- 数字水印技术正是利用了人眼所感知的有限性，来达到隐藏信息的目的。视频水印的载体对象对于人眼是运动的画面，充分研究视频信息所具有的三维特性即在空间和时间上被人眼所感知的强弱和掩蔽效应，对于在提高水印鲁棒性和水印容量以及保证视觉质量等目标之间达到最佳结合至关重要。
  1. 在视频序列中，二维空间方向对于人眼的掩蔽效应可以借鉴静态图像的情况。这一类的研究工作相对要多一些，一般是纹理复杂或者是边缘区域的掩蔽效应要比平滑区域的要强，能量高的低频掩蔽系数要比能量低的高频系数掩蔽阈值要大。
  2. 而在一维时间方向上的掩蔽效应（也称运动掩蔽效应），需要考虑人眼对于运动画面中不同性质的区域的敏感程度。一般来讲，运动剧烈的视频区域相比运动缓慢的视频区域有较好的掩蔽效果。此类研究工作仅局限于视频对象。
- 充分考虑视频的运动性质会大为改善加水印视频的视觉质量，在相关文献中还提出了利用视频运动信息构造水印的方法。随着对人类视觉系统的深入研究，视频信息对于人眼的掩蔽效应模型将会更为精确地建立，从而将会更好地视频水印的性能。
- 视频水印具有广泛的价值，不同的使用目的其相应的要求也会有所不同，总体来说一般应具有：
  1. 鲁棒性（robustness）：指水印能经得起无意修改或恶意攻击。在保证数据对象的使用价值的前提下，无法擦去水印信号。用于认证的脆弱性水印例外，它要求对数据改动的敏感性。
  2. 安全性(security)：即使水印算法已知，只要水印参数未知，未经授权不知密钥的情况下仍然无法解读水印或者甚至无法检测到水印的存在。使用密钥机制[ 44 ]是保证水印安全的途径。
  3. 不可感知性（imperceptibility：）应包括视觉上不可感知和统计特性不可感知。可视水印例外。
  4. 盲检测性（oblivious）：视频载体的容量之大，要保留所有的原始视频用作恢复水印不太符合实际应用视频系统。除了极少数的方案外，目前研究的主要是盲检测视频水印技术。
  5. 可证明性（vindicability）：水印应具有能作为呈堂证供的有力工具的效应。
  6. 低复杂度(low complexity)：作为实时动态的视频流，要求考虑到嵌入和检测算法的复杂度以及针对日用消费用户（如VOD接收用户群）的成本，要能保证视频水印方案的实用性。
- 从视频载体的特殊性角度出发，目前视频水印面临主要来自于以下三个方面的问题和挑战：
  1. 经受各种非恶意的视频处理
      - Photometric处理：这一类处理包含了所有导致视频帧像素发生了改变的正常操作，例如在视频数据传输过程中可能引入的噪声导致视频像素的细微改变。

        >* 加噪, DA/AD 转换
        >* Gamma校正
        >* 转码和视频格式转换
        >* 帧内或帧间滤波
        >* 色度采样 (4:4:4, 4:2:2, 4:2:0)

      - 空间去同步（几何失真）：许多视频水印的嵌入和提取的对应关系是严格地基于视频信息空间结构上的同步的。
        >* 显示比例调整 (4/3, 16/9, 2.11/1)
        >*  空间分辨率改变 (NTSC, PAL, SECAM)
        >*  位置抖动
        >*  手持摄像机拍录

      - 时间去同步：视频信息在时间方向上的去同步处理同样的会影响视频水印信号。
        >* 帧率改变

      - 视频编辑：随着视频制作和处理技术的发展，视频编缉已成为视频产品商业化档中必不可少的环节。
        >* 剪切结合和剪切插入结合
        >* Fade-and-dissolve and wipe-and-matte
        >* 图像覆盖（字幕、标识）
        >* Picture-in-Picture
    2. 实时性
    实时性要求是视频水印算法的特殊要求。对于静态图像水印方案中，水印的嵌入和检测滞后数秒钟是可以允许的。而在实际应用中，在视频中嵌入和检测水印信息一般不允许大量的耗时。视频信号以较高的帧速播放才能获取视觉上平滑的效果（约25帧每秒）。对于一个水印嵌入或者是检测来讲，也同样应该至少能够保持这种速度或者更快的帧率。
    3. 共谋攻击
        - 共谋攻击是在静态图像水印算法中已经考虑到的一种特殊水印攻击。它是指一个恶意的使用者群通过共享他们的信息（如不同的加水印数据），来产生非法的内容（如不含水印的数据）。共谋攻击将在两种截然不同的情况下有成功的可能性。

          >* 共谋攻击类型I：相同的水印嵌入到不同的数据的不同拷贝中。共谋者们能够通过统计平均每个单独加水印数据的方法从中估计出水印信息。这就意味着只须减去水印就可以得到不含水印的数据对象。
          >* 共谋攻击类型II：不同的水印嵌入到相同数据的不同拷贝中。共谋者们只须叠加手中大量的拷贝，就能统计平均出不含水印的数据对象。这是因为统计独立的水印信息的平均值趋于0。

        - 共谋攻击问题在视频水印中显得更为重要，因为视频相比静态图像来讲几乎多了一倍的共谋风险。在视频水印算法研究中，需要考虑两种共谋攻击。它们分别是视频间共谋和视频内共谋。

          >* 视频间共谋：是指一个拥有加水印视频产品的使用者群互相勾结以获得一个不加水印的视频对象。例如，在视频版权保护应用中，相同的版权水印被加入到该版权所有的不同的视频产品，因此遭受共谋攻击类型I的风险较大；而在数字指纹应用中，会在相同视频产品中加入的水印来区别不同的用户，因此遭受共谋攻击类型II的风险较大。视频间共谋要求拥有大量加入相同水印的不同视频产品拷贝，或者是加入不同水印的相同视频产品的拷贝。目的是获得不含水印的视频内容
          >* 视频内共谋：这是视频水印对象中才会出现的情况。我们知道，视频序列可以看作一个连续的静态图像序列。如果相同的视频水印加入到每一视频帧，在同一视频内遭受共谋攻击类型I的风险也较大，这是因为视频内存在大量的内容不同的视频帧（可从场景运动剧烈的视频中获取）。另一方面，如果不同的水印加入连续的视频帧中，则遭受共谋攻击类型II的风险也会较大。这是因为连续的视频帧具有高度相似性，几乎可以看作是相同的（尤其是在静止场景中）。因此，视频内共谋是设计视频水印时要考虑到的特殊情况。
### 视频水印的分类
![9](/img/video/9.png)
![11](/img/video/11.png)
![10](/img/video/10.png)
![12](/img/video/12.png)
![13](/img/video/13.png)
![14](/img/video/14.png)
![16](/img/video/16.png)
![15](/img/video/15.png)
![17](/img/video/17.png)
![18](/img/video/18.png)
![19](/img/video/19.png)
![20](/img/video/20.png)
![22-1](/img/video/22-1.png)
![21](/img/video/21.png)
![22-2](/img/video/22-2.png)
![23](/img/video/23.png)
![24](/img/video/24.png)
![25](/img/video/25.png)
![26](/img/video/26.png)
![27](/img/video/27.png)
![DEW](/img/video/DEW.png)
![MPEG-VLC](/img/video/MPEG-VLC.png)
